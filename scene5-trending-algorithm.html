<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Scene 5: How Trending Posts Work</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a202c 0%, #2d3748 100%);
            padding: 40px;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .slide {
            background: white;
            border-radius: 20px;
            padding: 60px;
            max-width: 1600px;
            width: 100%;
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
        }
        
        h1 {
            text-align: center;
            color: #2d3748;
            font-size: 48px;
            margin-bottom: 20px;
            font-weight: 700;
        }
        
        .subtitle {
            text-align: center;
            color: #718096;
            font-size: 22px;
            margin-bottom: 50px;
        }
        
        .flow-container {
            display: flex;
            flex-direction: column;
            gap: 30px;
            margin: 40px 0;
        }
        
        .flow-step {
            display: flex;
            align-items: center;
            gap: 30px;
            padding: 30px;
            background: linear-gradient(135deg, #f7fafc 0%, #edf2f7 100%);
            border-radius: 15px;
            border-left: 6px solid #0066FF;
            transition: all 0.3s ease;
        }
        
        .flow-step:hover {
            transform: translateX(10px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        
        .step-number {
            background: linear-gradient(135deg, #0066FF 0%, #0052CC 100%);
            color: white;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            font-weight: 700;
            flex-shrink: 0;
        }
        
        .step-content {
            flex: 1;
        }
        
        .step-title {
            font-size: 24px;
            font-weight: 700;
            color: #2d3748;
            margin-bottom: 8px;
        }
        
        .step-desc {
            font-size: 16px;
            color: #718096;
            line-height: 1.6;
        }
        
        .step-topic {
            display: inline-block;
            background: #0066FF;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 13px;
            font-weight: 600;
            margin-top: 10px;
        }
        
        .formula-section {
            background: linear-gradient(135deg, #2d3748 0%, #1a202c 100%);
            border-radius: 20px;
            padding: 40px;
            margin: 40px 0;
            color: white;
        }
        
        .formula-section h2 {
            text-align: center;
            font-size: 32px;
            margin-bottom: 30px;
            color: #0066FF;
        }
        
        .formula {
            background: rgba(255,255,255,0.1);
            border: 3px solid #0066FF;
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 30px;
            font-family: 'Courier New', monospace;
        }
        
        .formula-parts {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-top: 30px;
        }
        
        .formula-part {
            background: rgba(255,255,255,0.05);
            border: 2px solid rgba(0, 102, 255, 0.5);
            border-radius: 12px;
            padding: 20px;
            text-align: center;
        }
        
        .formula-part-title {
            font-size: 18px;
            font-weight: 700;
            color: #0066FF;
            margin-bottom: 10px;
        }
        
        .formula-part-desc {
            font-size: 14px;
            color: #cbd5e0;
            line-height: 1.5;
        }
        
        .example-calculation {
            background: linear-gradient(135deg, #ebf8ff 0%, #bee3f8 100%);
            border: 3px solid #0066FF;
            border-radius: 20px;
            padding: 40px;
            margin-top: 40px;
        }
        
        .example-calculation h3 {
            color: #0066FF;
            font-size: 28px;
            margin-bottom: 25px;
            text-align: center;
        }
        
        .calc-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .calc-item {
            background: white;
            border-radius: 12px;
            padding: 20px;
            border-left: 5px solid #0066FF;
        }
        
        .calc-label {
            font-size: 14px;
            color: #718096;
            margin-bottom: 5px;
        }
        
        .calc-value {
            font-size: 24px;
            font-weight: 700;
            color: #2d3748;
        }
        
        .final-result {
            background: linear-gradient(135deg, #48bb78 0%, #38a169 100%);
            color: white;
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            margin-top: 20px;
        }
        
        .final-result-value {
            font-size: 56px;
            font-weight: 700;
            margin-bottom: 10px;
        }
        
        .final-result-label {
            font-size: 20px;
            opacity: 0.9;
        }
        
        .trending-badge {
            display: inline-block;
            background: #ffd700;
            color: #1a202c;
            padding: 10px 30px;
            border-radius: 30px;
            font-size: 18px;
            font-weight: 700;
            margin-top: 15px;
        }
    </style>
</head>
<body>
    <div class="slide">
        <h1>üî• How Trending Posts Appear</h1>
        <p class="subtitle">Real-Time Ranking Algorithm Powered by Confluent</p>
        
        <!-- Flow Steps -->
        <div class="flow-container">
            <div class="flow-step">
                <div class="step-number">1</div>
                <div class="step-content">
                    <div class="step-title">Post Created & Shared</div>
                    <div class="step-desc">User creates content and shares it to the community. Metadata event streams to Confluent.</div>
                    <span class="step-topic">üì° content-metadata</span>
                </div>
            </div>
            
            <div class="flow-step">
                <div class="step-number">2</div>
                <div class="step-content">
                    <div class="step-title">Users View the Post</div>
                    <div class="step-desc">Every view generates an event that flows through the view-events topic in real-time.</div>
                    <span class="step-topic">üëÅÔ∏è view-events</span>
                </div>
            </div>
            
            <div class="flow-step">
                <div class="step-number">3</div>
                <div class="step-content">
                    <div class="step-title">Likes & Comments Stream In</div>
                    <div class="step-desc">User interactions (likes, comments) are captured in the user-interactions topic.</div>
                    <span class="step-topic">üë• user-interactions</span>
                </div>
            </div>
            
            <div class="flow-step">
                <div class="step-number">4</div>
                <div class="step-content">
                    <div class="step-title">Someone Remixes It</div>
                    <div class="step-desc">Remix events trigger inspiration chain tracking and credit distribution.</div>
                    <span class="step-topic">üîÑ remix-events</span>
                </div>
            </div>
            
            <div class="flow-step">
                <div class="step-number">5</div>
                <div class="step-content">
                    <div class="step-title">Flink Processes All Streams</div>
                    <div class="step-desc">Apache Flink simultaneously processes all event streams and calculates trending score.</div>
                    <span class="step-topic">‚ö° Real-Time Processing</span>
                </div>
            </div>
            
            <div class="flow-step">
                <div class="step-number">6</div>
                <div class="step-content">
                    <div class="step-title">Post Appears in Trending</div>
                    <div class="step-desc">When score crosses threshold, post surfaces in trending feed. Updates every second.</div>
                    <span class="step-topic">üî• trending-scores</span>
                </div>
            </div>
        </div>
        
        <!-- Formula Section -->
        <div class="formula-section">
            <h2>üìê Trending Score Formula</h2>
            <div class="formula">
                (Base Score √ó Time Decay) + (Velocity √ó 5) + Recency Bonus
            </div>
            
            <div class="formula-parts">
                <div class="formula-part">
                    <div class="formula-part-title">Base Score</div>
                    <div class="formula-part-desc">Views + (Likes √ó 2) + (Comments √ó 3) + (Remixes √ó 10)</div>
                </div>
                <div class="formula-part">
                    <div class="formula-part-title">Time Decay</div>
                    <div class="formula-part-desc">Newer content = Higher weight<br>Prevents old posts from dominating</div>
                </div>
                <div class="formula-part">
                    <div class="formula-part-title">Velocity √ó 5</div>
                    <div class="formula-part-desc">Engagement rate per minute<br>Rapid growth gets boosted</div>
                </div>
            </div>
        </div>
        
        <!-- Example Calculation -->
        <div class="example-calculation">
            <h3>üí° Live Calculation Example: Post #12345</h3>
            
            <div class="calc-grid">
                <div class="calc-item">
                    <div class="calc-label">Views</div>
                    <div class="calc-value">150</div>
                </div>
                <div class="calc-item">
                    <div class="calc-label">Likes (√ó 2)</div>
                    <div class="calc-value">45 ‚Üí 90 points</div>
                </div>
                <div class="calc-item">
                    <div class="calc-label">Comments (√ó 3)</div>
                    <div class="calc-value">12 ‚Üí 36 points</div>
                </div>
                <div class="calc-item">
                    <div class="calc-label">Remixes (√ó 10)</div>
                    <div class="calc-value">3 ‚Üí 30 points</div>
                </div>
                <div class="calc-item">
                    <div class="calc-label">Base Score</div>
                    <div class="calc-value">306 points</div>
                </div>
                <div class="calc-item">
                    <div class="calc-label">Time Decay (5 min old)</div>
                    <div class="calc-value">0.95</div>
                </div>
                <div class="calc-item">
                    <div class="calc-label">Velocity (30 interactions/min)</div>
                    <div class="calc-value">30 √ó 5 = 150</div>
                </div>
                <div class="calc-item">
                    <div class="calc-label">Recency Bonus</div>
                    <div class="calc-value">+20 points</div>
                </div>
            </div>
            
            <div class="final-result">
                <div class="final-result-value">460.7</div>
                <div class="final-result-label">Final Trending Score</div>
                <div class="trending-badge">üî• NOW TRENDING</div>
            </div>
        </div>
    </div>
</body>
</html>
